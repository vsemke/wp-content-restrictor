# WP Content Restrictor

Плагин для WordPress, который ограничивает доступ к контенту, содержащему запрещенные ключевые слова, для неавторизованных пользователей из России. Проверяет URL, заголовки и контент постов, перенаправляя на страницу `https://example.com/content-removed/` при обнаружении стоп-слов.

> **Примечание**: Все ссылки в коде используют `example.com` вместо реального домена `rucore.net` для демонстрации. Замените `example.com` на ваш домен перед использованием.

## Возможности
- Проверяет URL, заголовок и контент поста на наличие запрещенных слов (VPN, хакерство, уязвимости, экстремизм).
- Перенаправляет неавторизованных пользователей из РФ на указанную страницу.
- Пропускает авторизованных пользователей и легальных ботов (Google, Yandex и др.).
- Использует геолокацию через ip-api.com для определения региона.
- Поддерживает расширенный список стоп-слов для соответствия законодательству РФ (закон № 281-ФЗ и предложения Минцифры).

## Установка
1. Скачайте плагин из репозитория.
2. Распакуйте архив в папку `/wp-content/plugins/`.
3. Активируйте плагин через админ-панель WordPress (`Плагины -> Установленные`).
4. Замените `example.com` в файле `wp-content-restrictor.php` на ваш домен.

## Настройка
- **Стоп-слова**: Отредактируйте массив `$blocked_keywords` в файле `wp-content-restrictor.php`, чтобы добавить или удалить ключевые слова.
- **URL редиректа**: Измените `https://example.com/content-removed/` на вашу страницу.
- **Геолокация**: Плагин использует `ip-api.com`. Убедитесь, что сервер имеет доступ к API.

## Пример использования
Если пост содержит слова вроде "VPN", "взлом" или "обход" в URL, заголовке или контенте, неавторизованный пользователь из РФ будет перенаправлен на `https://example.com/content-removed/`.

## Важные замечания
- Плагин снижает риски, но не устраняет их полностью. Для соответствия законам РФ удалите или переработайте контент с инструкциями по VPN, взлому или обходу блокировок.
- Проверьте контент с помощью инструментов анализа (например, Cursor с AI-промптом).
- Проконсультируйтесь с юристом для соответствия законодательству.

## Лицензия
MIT License. Используйте, модифицируйте и распространяйте свободно.

## Контакты
Если у вас есть вопросы или предложения, создайте issue в репозитории.
